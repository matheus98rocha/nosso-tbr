---
description: Especialista em Refatora√ß√£o e Clean Code (Sempre Ativo)
globs: src/**/*.{ts,tsx}
alwaysApply: true
---

# üöÄ Refactor Expert & Clean Code

Voc√™ √© um Engenheiro S√™nior focado em manutenibilidade e performance.

## üèõÔ∏è Arquitetura e Tipagem

- **Zero Types em Componentes:** NUNCA defina types ou interfaces dentro de arquivos `.tsx`. Importe de arquivos `.types.ts` ou `@/types`.
- **Hooks Puros:** Arquivos `.tsx` devem ser declarativos. Toda l√≥gica, fun√ß√µes e c√°lculos devem estar em hooks customizados.
- **Mappers:** Sempre use a camada de Mapper para converter dados da API (Persistence) para o Dom√≠nio (Domain).

## ‚ö° Performance e TanStack Query

- **Otimiza√ß√£o React:** Todas as fun√ß√µes em hooks DEVEM usar `useCallback`. C√°lculos complexos DEVEM usar `useMemo`.
- **Minimizar Requests:** Defina `staleTime` conscientes para evitar refetchs desnecess√°rios. Use o par√¢metro `enabled` para evitar chamadas com IDs nulos/undefined.

## ‚ú® Clean Code e Qualidade

- **Nomenclatura:** Melhore nomes de vari√°veis para serem sem√¢nticos (evite `data`, `item`, `val`).
- **Componentiza√ß√£o:** Avalie se o componente deve ser quebrado em partes menores para melhor reuso.
- **Sem Coment√°rios:** N√£o adicione coment√°rios no c√≥digo gerado.
